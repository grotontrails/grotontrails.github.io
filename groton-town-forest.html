<!DOCTYPE html> 
<html lang="en">
<head>
<Title>Groton Town Forest - Groton Trails</Title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    
    <link rel="stylesheet" href="style.css" />  
    <link rel="stylesheet" href="print.css" media="print"  />
    
    <link href="https://fonts.googleapis.com/css?family=Neucha|Open+Sans" rel="stylesheet">
   
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>
    <script src="javascripts/trailmap.js"></script>
    
    <link rel="icon" sizes="196x196" type="image/png" href="/images/GTN-green-196.png" >
	<link rel="icon" sizes="32x32"   type="image/png" href="/images/GTN-green-32.png" >
	<link rel="icon" sizes="16x16"   type="image/png" href="/images/GTN-green-16.png" >

	<link rel="apple-touch-icon" sizes="180x180" href="/images/GTN-green-180.png">	
	<link rel="apple-touch-icon" sizes="152x152" href="/images/GTN-green-152.png">	
	<link rel="apple-touch-icon" sizes="120x120" href="/images/GTN-green-120.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/GTN-green-60.png" >
	<link rel="apple-touch-icon" sizes="76x76" href="/images/GTN-green-76.png" >

    <link rel="manifest" href="manifest.json">
    

</head>

<body> 
        <header>
                <nav>
                <a href="Welcome.html">Welcome</a>
        
                <div class="dropdown">
                <div onclick="dropdown('DropdownMaps')" class="dropbtn current">Maps</div>
                <div id="DropdownMaps" class="dropdown-content">
                    <a href="Interactive_Maps.html">Interactive Map</a>
                    <a href="groton-town-forest-map.html">Town Forest Map</a>   
                    <a href="long-trails-map.html">Long Trails Map</a>						                    
                    <a href="printed_maps.html"> Printable Maps</a>
                </div>
                </div>
                                
                <div class="dropdown">
                <div onclick="dropdown('DropdownActivities')" class="dropbtn current">Activities</div>
                <div id="DropdownActivities" class="dropdown-content">
                    <a href="light-walks.html">Light&nbsp;Walks</a>
                    <a href="kid-friendly-walks.html">Kid&nbsp;Friendly&nbsp;Walks</a>
                    <a href="mountain-biking.html">Mountain&nbsp;Biking&nbsp;Trails</a>
                    <a href="river-walks.html">River&nbsp;Walks</a>
                    <a href="dog-walking.html">Dog&nbsp;Walking</a>
                    <a href="accessible-trail-walks.html">Accessible&nbsp;Trail&nbsp;Walks</a>
                    <a href="glacial-hikes.html">Glacial&nbsp;Hikes</a>
                    <a href="leaf-peeping.html">Leaf&nbsp;Peeping</a>
                    <a href="cross-country-skiing.html">Cross&nbsp;Country&nbsp;Skiing</a>
                    <a href="bird-watching.html">Bird&nbsp;Watching</a>
                    <a href="horseback-riding.html">Horseback&nbsp;Riding</a>
                    <a href="places-to-get-lost.html">Places&nbsp;To&nbsp;Get&nbsp;Lost&nbsp;In</a>
                    <a href="field-walks.html">Field&nbsp;Walks</a>
                    <a href="swimming.html">Places&nbsp;to&nbsp;Swim</a>
                    <a href="camping.html">Places&nbsp;To&nbsp;Camp</a>
                </div>
                </div>
            
                <div class="dropdown">
                <div onclick="dropdown('DropdownProperties')" class="dropbtn current">Properties</div>
                <div id="DropdownProperties" class="dropdown-content">
                    <a href="dog-walking.html">Groton&nbsp;Place</a>
                    <a href="groton-town-forest.html">Groton&nbsp;Town&nbsp;Forest</a>
                </div>
                </div>
            
                 <a href="about.html"> About&nbsp;Us</a>
                </nav>
            </header>
        <section class="title">
        <H1>Groton Town Forest</H1>
        <img src="images/GTN.png"/>
    </section>
    
<section class="post">
	<section class="text">

        </p>Whether you want to go for a stroll on a welcoming day or tear it up on a mountain bike, this 
        property is for you. There is a scenic route that follows the Nashua River, as well as an 
        alluring trail that follows the old railroad tracks. A walk in the Groton Town Forest is 
        wonderful. As you let your worries and obligations fade away, just enjoy the untouched beauty of nature. </p>
    
        <p>While out on the trails you may see Deer, Red Foxes, Coyotes, Beavers, Barred Owls, and 
                Downy and Pileated Woodpeckers.</p>
            
        <p>The Groton Memorial Town Forest was formed in 1922 to honor the Groton veterans who gave their lives in the Great War 
            (aka World War 1). Originally 180 acres, the Forest has expanded to 513 acres through purchases and donations of 
            abutting properties. The Forest was the first conservation property established in Groton, and the second 
            Town Forest designated in the Commonwealth of Massachusetts. It is the crown jewel of the Groton Trails Network.</p>
            
        <p>The Town Forest has 14 miles of trails with three marked trail loops: the 6.4 mile Town Forest Loop marked 
            in both directions, and the 3.4 and 9.5 mile Town Forest Race Loops marked in one direction. The Town Forest 
            network of trails is suitable for walking, running, mountain biking, snowshoeing, cross-country skiing, and horseback riding.</p>
            
        <p>The Groton Town Forest is great for mountain biking, it has smooth flowing trails that are suitable for all abilities. 
            Whether it is a network of cart roads or the 8 miles of single track, all routes lead to big smiles. For 
            those looking for a longer route head north to Fitch's Bridge, cross over and head south to return. 
            Parking is at the end of Town Forest Road or at the Senior Center.</p>
            
        <p>Cross-country skiing in the Town Forest can be as easy or as challenging as you like. The 
           cart paths are wide and mostly flat suitable for beginners or an easy day of skiing. Off the 
           cart paths, the trails can be narrow, hilly, and sometimes very steep offering challenges 
           for the experienced skier. The trails are not groomed.
            
        <p>For horseback riders, thereâ€™s a trailer turning circle in the parking area at the end of Town Forest Road.</p>
            
        <p>The central part of the Town Forest is a flat glacier river delta, but it drops off sharply 
            along rivers on the Eastern (Nashua River) and Southern (Squannacook River) borders. There are 
            several kettle holes and kettle ponds in the central area that make striking exceptions to 
            the generally flat terrain. To see the kettle holes it is recommended that you take the Town Forest Loop Trail.</p>
                        

	</section>
	<section class="photos-map">
		<img height="350" width="350" src="images/groton-town-forest-single-track.jpg">
        <img height="350" width="350" class=desktop src="images/groton-town-forest-cross-country-skiing.jpg">
        <img height="350" width="350" class=desktop src="images/groton-town-forest-snow-nashua-river.jpg">
	</section>
	<section class="text">
        <p>Trail Map</p>
    </section>
    <div class="postmap-large" id="town_forest"></div>
	<section class="links">
        <a href="Media/Groton%20Town%20Forest%20Trail%20Map%20-%20Groton%20MA.pdf">Printable Map</a>
            <br/>
        <a href="http://www.nemba.org/trails/massachusetts/groton-town-forest"> New England Mountain Biking Association</a>
    </section>
</section>


<script>
    function dropdown(id) {        
        if ( id != "DropdownProperties") {
            document.getElementById("DropdownProperties").classList.remove("show")
        }
        if ( id != "DropdownActivities") {
            document.getElementById("DropdownActivities").classList.remove("show")
        }    
        if ( id != "DropdownMaps") {
            document.getElementById("DropdownMaps").classList.remove("show")            
        }
        document.getElementById(id).classList.toggle("show");
    }
    
window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script> 
<footer>
<p>Map &copy; <a href="https://www.mapbox.com">Mapbox</a>, <a href="https://openstreetmap.org">OpenStreetMap</a>, <a href="http://leafletjs.com">Leaflet</a>
</footer>

</script>
    
    <script>
function createLargeMap(divid, parkingArray) {
    var map = L.map(divid, { attributionControl: false, zoomControl: false });

    var mapboxAttrib = "";
    
    var mapboxSatellite = L.tileLayer('https://api.tiles.mapbox.com/v4/mapbox.streets-satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoianJlbWlsbGFyZCIsImEiOiJzX2dhaXN3In0.qWyAnddfUVfs61ojApFvsg', {
        attribution: mapboxAttrib
    });
    var mapboxOutdoors = L.tileLayer('https://api.tiles.mapbox.com/v4/jremillard.6095d11a/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoianJlbWlsbGFyZCIsImEiOiJzX2dhaXN3In0.qWyAnddfUVfs61ojApFvsg', {
        attribution: mapboxAttrib
    });
    var osmLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: mapboxAttrib });
    
    var baseMaps = {
        "Map": mapboxOutdoors,
        "Satellite": mapboxSatellite,
		"OSM": osmLayer
    };


    mapboxOutdoors.addTo(map);

    map.dragging.disable();
    map.touchZoom.disable();
    map.doubleClickZoom.disable();
    map.scrollWheelZoom.disable();

    // Disable tap handler, if present.
    if (map.tap) {
        map.tap.disable();
    }
    
    function loadJSON(url, callback) {   
         var xobj = new XMLHttpRequest();
         xobj.overrideMimeType("application/json");
	     xobj.onreadystatechange = function () {
             if (xobj.readyState == 4 && xobj.status == "200") {
	             callback(xobj.responseText);
            }
         };
	     xobj.open('GET', url, true);
         xobj.send();  
    }
	
    loadJSON(
	     '/geo/townForest34.geojson',
	     function(response) {
             // Parse JSON string into object
	         var actual_JSON = JSON.parse(response);
	
	         var myStyle = {
             "color": "#FFFF00",
             "weight": 2,
             "fill": 0
             };
	
             tf_34JSON = L.geoJson(actual_JSON,{style: myStyle} )
             
             loadJSON(
                '/geo/townForest95.geojson',
                function(response) {
                    // Parse JSON string into object
                    var actual_JSON = JSON.parse(response);
            
                    var myStyle = {
                    "color": "#FF0000",
                    "weight": 2,
                    "fill": 0
                    };
            
                    tf_95JSON = L.geoJson(actual_JSON,{style: myStyle} )

                    loadJSON(
                    '/geo/townForestLoop.geojson',
                    function(response) {
                        // Parse JSON string into object
                        var actual_JSON = JSON.parse(response);
                
                        var myStyle = {
                        "color": "#0000FF",
                        "weight": 2,
                        "fill": 0
                        };
                
                        tf_loopJSON = L.geoJson(actual_JSON,{style: myStyle} )

                        // Give user a choice of overlays
                        var overlays = {
                            "Loop Trail - Blue": tf_loopJSON,
                            "9.5 Run - Red": tf_95JSON,
                            "3.4 Run - Yellow": tf_34JSON
                        }

                        collapsedV = true;
                        if ( window.innerWidth > 1000) {
                            collapsedV = false

                        }

                        L.control.layers(baseMaps, overlays, {collapsed: collapsedV}).addTo(map);                        
                    });
                    
                });             
        });

    loadJSON(
        '/geo/townForest.geojson',
        function(response) {
            var actual_JSON = JSON.parse(response);
            boundary = L.geoJson(actual_JSON )
            map.fitBounds(boundary.getBounds());
    })
    
    if ( parkingArray) {
        var iconObj = L.icon({ iconUrl: 'images/parking.png',iconSize: [26, 26] } )
        var parkingMarker = L.marker(parkingArray,{icon: iconObj}).addTo(map)

        var googleURL = "https://maps.google.com/?daddr=" + parkingArray[0].toString() + "," + parkingArray[1].toString();
        var iosURL = "https://maps.apple.com/?daddr=" + parkingArray[0].toString() + "," + parkingArray[1].toString();
        var bingURL = "https://bing.com/maps/default.aspx?rtp=~adr." + parkingArray[0].toString() + "," + parkingArray[1].toString();
        var osmURL = "https://www.openstreetmap.org/#map=18/" + parkingArray[0].toString() + "/" + parkingArray[1].toString();

        var directionsHTML = 
          "Directions To Parking<br>" + 
          "<a href=\"" + googleURL + "\">Google</a>, " +
		  "<a href=\"" + iosURL + "\">Apple</a>, " +
          "<a href=\"" + bingURL + "\">Bing</a>, " + 
          "<a href=\"" + osmURL + "\">OSM</a>";

        var iOS = ['iPad', 'iPhone', 'iPod'].indexOf(navigator.platform) >= 0;
        
        //iOS = 1
        if ( iOS) {
            directionsHTML = "<a href=\"" + iosURL + "\">Directions to Parking</a>"
        }

        var android = ['Android'].indexOf(navigator.platform) >= 0;
        //android = 1
        if ( android) {
            directionsHTML = "<a href=\"" + googleURL + "\">Directions to Parking</a>"
        }

        parkingMarker.bindPopup(directionsHTML)
    }

    map.on('click', function (e) {
        window.location.href = 'groton-town-forest-map.html#map=' + map.getZoom() + '/' + e.latlng.lat.toPrecision(7) + '/' + e.latlng.lng.toPrecision(7);
    });
}


       createLargeMap('town_forest',[42.59740,-71.60491]);
    </script>

    </body>   
    
</html>
